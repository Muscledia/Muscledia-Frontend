Implement Points Leaderboard
Priority
Priority 2 - Social Feature

Endpoints:
Three endpoints which provide leaderboard data based on points, levels and streak.

Description
Create leaderboard screen showing top users ranked by total points earned. This feature adds competitive and social elements to the platform, encouraging engagement and consistency.

Technical Requirements
Service Layer
Create LeaderboardService for data retrieval
Implement pagination for large leaderboards
Cache leaderboard data with appropriate TTL (5-10 minutes)
Handle JWT token authentication
Implement error handling and retry logic
Component Structure
Create leaderboard list component
Implement rank display component
Create user position highlight component
Separate presentation from business logic
Business Logic
Handle rank calculations and formatting
Determine current user's position in list
Format point values for display
API Response Model
IMPORTANT: The actual API returns a bit different data which is provided on the bottom of this document

interface LeaderboardPointsResponse {
  success: boolean;
  message: string;
  data: UserLeaderboardEntry[];
  timestamp: string;
}

interface UserLeaderboardEntry {
  id: string;
  userId: number;
  points: number;
  level: number;
  lastLevelUpDate: string;
  streaks: {
    workout: {
      current: number;
      lastUpdate: string;
      longest: number;
    };
  };
  earnedBadges: EarnedBadge[];
  quests: any[];
  totalWorkoutsCompleted: number;
  lastWorkoutDate: string | null;
  profileCreatedAt: string;
  lastUpdated: string;
}

interface EarnedBadge {
  badgeId: string;
  earnedAt: string;
  badgeName: string;
  description: string;
  category: string;
  pointsAwarded: number;
}
Key Discovery: This endpoint provides complete user profiles, including:

Full badge details for each user
Streak information
Workout statistics
Profile metadata
This means you can build a rich leaderboard without additional API calls!

Acceptance Criteria
Basic Leaderboard Display:


Display users ranked by points (derived from array order)

Show rank number, username (userId for now), and points

Highlight current user's position in the list with distinct styling

Show user's rank even if outside top positions (sticky header/footer)

Implement pull-to-refresh functionality

Handle empty leaderboard state (no data)

Display top 3 users with special styling (podium)

Implement smooth scrolling
Enhanced Profile Data (Available from API):


Display user level alongside points

Show last level up date for each user

Display total workouts completed

Show current workout streak for each user

Display longest workout streak achieved

Show profile creation date (account age)
Badge Display (Available from API):


Display earned badge count for each user

Show badge icons/thumbnails in leaderboard row
UI/UX Elements:


Handle loading state with skeleton loaders

Implement error handling with retry option

Cache data to reduce API calls (5 min TTL)

Display timestamp of last update

Show total users count for context

Add filtering options (friends only, nearby users - future)
Performance:


Implement pagination or infinite scroll if needed

Optimize badge icon loading (lazy load)

Cache leaderboard data locally
UI/UX Considerations
Use medal icons for top 3 positions (gold, silver, bronze)
Highlight current user with background color/border
Implement smooth animations for rank changes
Show point differences between ranks
Consider adding time period filter (daily/weekly/all-time)
Sticky current user position indicator

Available endpoints:
http://89.168.117.65/api/gamification/leaderboards/weekly-streak
Response:
{
    "success": true,
    "message": "Weekly streak leaderboard retrieved successfully",
    "data": {
        "leaderboard": [
            {
                "userId": 8828567213117535,
                "rank": 1,
                "points": 1860,
                "level": 6,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            },
            {
                "userId": 6605473744026944,
                "rank": 2,
                "points": 8195,
                "level": 13,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            },
            {
                "userId": 8472899537426078,
                "rank": 3,
                "points": 3960,
                "level": 9,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            }
        ],
        "currentUser": {
            "userId": 6605473744026944,
            "rank": 1,
            "points": 8195,
            "level": 13,
            "currentStreak": 0,
            "totalWorkouts": 0,
            "totalBadges": 1,
            "longestStreak": 0
        },
        "nearbyUsers": [
            {
                "userId": 8828567213117535,
                "rank": 1,
                "points": 1860,
                "level": 6,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            },
            {
                "userId": 6605473744026944,
                "rank": 2,
                "points": 8195,
                "level": 13,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            },
            {
                "userId": 8472899537426078,
                "rank": 3,
                "points": 3960,
                "level": 9,
                "currentStreak": 0,
                "totalWorkouts": 0,
                "totalBadges": 1,
                "longestStreak": 0
            }
        ],
        "currentPage": 0,
        "pageSize": 10,
        "totalPages": 1,
        "totalUsers": 3,
        "leaderboardType": "WEEKLY_STREAK",
        "currentUserInTopList": true
    },
    "timestamp": "2025-12-18T16:08:11.272871768Z"
}

Endpoint: http://89.168.117.65/api/gamification/leaderboards/levels
Response: 
{
    "success": true,
    "message": "Level leaderboard retrieved successfully",
    "data": {
        "leaderboard": [
            {
                "userId": 6605473744026944,
                "rank": 1,
                "points": 8195,
                "level": 13,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8472899537426078,
                "rank": 2,
                "points": 3960,
                "level": 9,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8828567213117535,
                "rank": 3,
                "points": 1860,
                "level": 6,
                "totalWorkouts": 0,
                "totalBadges": 1
            }
        ],
        "currentUser": {
            "userId": 6605473744026944,
            "rank": 1,
            "points": 8195,
            "level": 13,
            "totalWorkouts": 0,
            "totalBadges": 1
        },
        "nearbyUsers": [
            {
                "userId": 6605473744026944,
                "rank": 1,
                "points": 8195,
                "level": 13,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8472899537426078,
                "rank": 2,
                "points": 3960,
                "level": 9,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8828567213117535,
                "rank": 3,
                "points": 1860,
                "level": 6,
                "totalWorkouts": 0,
                "totalBadges": 1
            }
        ],
        "currentPage": 0,
        "pageSize": 10,
        "totalPages": 1,
        "totalUsers": 3,
        "leaderboardType": "POINTS",
        "currentUserInTopList": true
    },
    "timestamp": "2025-12-18T16:08:03.541588022Z"
}

Endpoint: http://89.168.117.65/api/gamification/leaderboards/points
Response: 
{
    "success": true,
    "message": "Points leaderboard retrieved successfully",
    "data": {
        "leaderboard": [
            {
                "userId": 6605473744026944,
                "rank": 1,
                "points": 8195,
                "level": 13,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8472899537426078,
                "rank": 2,
                "points": 3960,
                "level": 9,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8828567213117535,
                "rank": 3,
                "points": 1860,
                "level": 6,
                "totalWorkouts": 0,
                "totalBadges": 1
            }
        ],
        "currentUser": {
            "userId": 6605473744026944,
            "rank": 1,
            "points": 8195,
            "level": 13,
            "totalWorkouts": 0,
            "totalBadges": 1
        },
        "nearbyUsers": [
            {
                "userId": 6605473744026944,
                "rank": 1,
                "points": 8195,
                "level": 13,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8472899537426078,
                "rank": 2,
                "points": 3960,
                "level": 9,
                "totalWorkouts": 0,
                "totalBadges": 1
            },
            {
                "userId": 8828567213117535,
                "rank": 3,
                "points": 1860,
                "level": 6,
                "totalWorkouts": 0,
                "totalBadges": 1
            }
        ],
        "currentPage": 0,
        "pageSize": 10,
        "totalPages": 1,
        "totalUsers": 3,
        "leaderboardType": "POINTS",
        "currentUserInTopList": true
    },
    "timestamp": "2025-12-18T18:12:09.249247683Z"
}